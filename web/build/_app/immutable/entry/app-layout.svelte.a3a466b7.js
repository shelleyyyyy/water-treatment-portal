import{S as H,i as J,s as K,D as z,k as d,r as g,a as U,l as v,m as E,u as w,h as i,c as B,p as k,b as N,H as f,J as O,v as Q,E as R,F as X,G as Y,g as Z,d as $,o as x,n as G,K as tt}from"../chunks/index.69ef937e.js";import{g as st}from"../chunks/navigation.4fbd9dde.js";import{c as et,p as at}from"../chunks/pocketbase.85c6b659.js";function lt(u){let t,a,o,n,l,e,S;return{c(){t=d("button"),a=g("Pause"),o=U(),n=d("button"),l=g("Stop"),this.h()},l(r){t=v(r,"BUTTON",{class:!0});var _=E(t);a=w(_,"Pause"),_.forEach(i),o=B(r),n=v(r,"BUTTON",{class:!0});var h=E(n);l=w(h,"Stop"),h.forEach(i),this.h()},h(){k(t,"class","btn btn-warning btn-outline"),k(n,"class","btn btn-error btn-outline")},m(r,_){N(r,t,_),f(t,a),N(r,o,_),N(r,n,_),f(n,l),e||(S=[O(t,"click",u[3]),O(n,"click",u[2])],e=!0)},p:G,d(r){r&&i(t),r&&i(o),r&&i(n),e=!1,tt(S)}}}function ot(u){let t,a,o,n;return{c(){t=d("button"),a=g("Start"),this.h()},l(l){t=v(l,"BUTTON",{class:!0});var e=E(t);a=w(e,"Start"),e.forEach(i),this.h()},h(){k(t,"class","btn btn-success btn-outline")},m(l,e){N(l,t,e),f(t,a),o||(n=O(t,"click",u[1]),o=!0)},p:G,d(l){l&&i(t),o=!1,n()}}}function nt(u){let t,a,o,n,l,e,S,r,_,h,m,L,D,P,T,V,A;function M(s,c){return s[0]==="off"||s[0]==="pause"?ot:lt}let I=M(u),b=I(u);const j=u[6].default,p=z(j,u,u[5],null);return{c(){t=d("div"),a=d("div"),o=d("a"),n=g("Water Treatment Portal"),l=U(),e=d("div"),S=g("Experiment Status: "),r=g(u[0]),_=U(),b.c(),h=U(),m=d("button"),L=g("Logout"),D=U(),P=d("main"),p&&p.c(),this.h()},l(s){t=v(s,"DIV",{class:!0});var c=E(t);a=v(c,"DIV",{class:!0});var W=E(a);o=v(W,"A",{href:!0,class:!0});var q=E(o);n=w(q,"Water Treatment Portal"),q.forEach(i),W.forEach(i),l=B(c),e=v(c,"DIV",{class:!0});var y=E(e);S=w(y,"Experiment Status: "),r=w(y,u[0]),_=B(y),b.l(y),h=B(y),m=v(y,"BUTTON",{class:!0});var C=E(m);L=w(C,"Logout"),C.forEach(i),y.forEach(i),c.forEach(i),D=B(s),P=v(s,"MAIN",{});var F=E(P);p&&p.l(F),F.forEach(i),this.h()},h(){k(o,"href","/app"),k(o,"class","btn btn-ghost normal-case text-xl"),k(a,"class","navbar-start"),k(m,"class","btn"),k(e,"class","navbar-end gap-3"),k(t,"class","navbar bg-base-100")},m(s,c){N(s,t,c),f(t,a),f(a,o),f(o,n),f(t,l),f(t,e),f(e,S),f(e,r),f(e,_),b.m(e,null),f(e,h),f(e,m),f(m,L),N(s,D,c),N(s,P,c),p&&p.m(P,null),T=!0,V||(A=O(m,"click",u[4]),V=!0)},p(s,[c]){(!T||c&1)&&Q(r,s[0]),I===(I=M(s))&&b?b.p(s,c):(b.d(1),b=I(s),b&&(b.c(),b.m(e,h))),p&&p.p&&(!T||c&32)&&R(p,j,s,s[5],T?Y(j,s[5],c,null):X(s[5]),null)},i(s){T||(Z(p,s),T=!0)},o(s){$(p,s),T=!1},d(s){s&&i(t),b.d(),s&&i(D),s&&i(P),p&&p.d(s),V=!1,A()}}}function rt(u,t,a){let{$$slots:o={},$$scope:n}=t,l="";x(async()=>{const m=await(await fetch("http://localhost:1323/status")).json();a(0,l=m.status)});const e=async()=>{await fetch("http://localhost:1323/start"),a(0,l="run")},S=async()=>{await fetch("http://localhost:1323/kill"),a(0,l="off")},r=async()=>{await fetch("http://localhost:1323/pause"),a(0,l="pause")},_=()=>{at.authStore.clear(),st("/login")};return console.log(et.username,"********"),u.$$set=h=>{"$$scope"in h&&a(5,n=h.$$scope)},[l,e,S,r,_,n,o]}class ft extends H{constructor(t){super(),J(this,t,rt,nt,K,{})}}export{ft as default};
