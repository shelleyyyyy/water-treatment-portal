import{S as ie,i as ce,s as de,k as l,r as P,a as L,l as r,m as u,u as T,h as n,c as A,p as s,b as oe,H as e,O as U,J as G,n as le,N as ue,o as he}from"../chunks/index.2e02abf8.js";import{g as re}from"../chunks/navigation.52161cbd.js";import{p as K}from"../chunks/pocketbase.1bcd3499.js";function ne(v){let t,a;return{c(){t=l("h1"),a=P("Invalid Credentials Try Again"),this.h()},l(o){t=r(o,"H1",{class:!0});var i=u(t);a=T(i,"Invalid Credentials Try Again"),i.forEach(n),this.h()},h(){s(t,"class","text-red-500")},m(o,i){oe(o,t,i),e(t,a)},d(o){o&&n(t)}}}function pe(v){let t,a,o,i,_,N,m,c,k,b,y,V,O,q,p,J,g,x,D,M,W,f,j,S,I,z,F,Q,d=v[2]&&ne();return{c(){t=l("div"),a=l("div"),o=l("div"),i=l("h1"),_=P("Sign In"),N=L(),m=l("div"),c=l("div"),d&&d.c(),k=L(),b=l("div"),y=l("label"),V=l("span"),O=P("username"),q=L(),p=l("input"),J=L(),g=l("div"),x=l("label"),D=l("span"),M=P("password"),W=L(),f=l("input"),j=L(),S=l("div"),I=l("button"),z=P("Login"),this.h()},l(h){t=r(h,"DIV",{class:!0});var w=u(t);a=r(w,"DIV",{class:!0});var B=u(a);o=r(B,"DIV",{class:!0});var R=u(o);i=r(R,"H1",{class:!0});var X=u(i);_=T(X,"Sign In"),X.forEach(n),R.forEach(n),N=A(B),m=r(B,"DIV",{class:!0});var Y=u(m);c=r(Y,"DIV",{class:!0});var E=u(c);d&&d.l(E),k=A(E),b=r(E,"DIV",{class:!0});var C=u(b);y=r(C,"LABEL",{class:!0});var Z=u(y);V=r(Z,"SPAN",{class:!0});var $=u(V);O=T($,"username"),$.forEach(n),Z.forEach(n),q=A(C),p=r(C,"INPUT",{type:!0,placeholder:!0,class:!0}),C.forEach(n),J=A(E),g=r(E,"DIV",{class:!0});var H=u(g);x=r(H,"LABEL",{class:!0});var ee=u(x);D=r(ee,"SPAN",{class:!0});var se=u(D);M=T(se,"password"),se.forEach(n),ee.forEach(n),W=A(H),f=r(H,"INPUT",{type:!0,placeholder:!0,class:!0}),H.forEach(n),j=A(E),S=r(E,"DIV",{class:!0});var te=u(S);I=r(te,"BUTTON",{class:!0});var ae=u(I);z=T(ae,"Login"),ae.forEach(n),te.forEach(n),E.forEach(n),Y.forEach(n),B.forEach(n),w.forEach(n),this.h()},h(){s(i,"class","text-5xl font-bold"),s(o,"class","text-center lg:text-left w-60"),s(V,"class","label-text"),s(y,"class","label"),s(p,"type","text"),s(p,"placeholder","username"),s(p,"class","input input-bordered"),s(b,"class","form-control"),s(D,"class","label-text"),s(x,"class","label"),s(f,"type","password"),s(f,"placeholder","password"),s(f,"class","input input-bordered"),s(g,"class","form-control"),s(I,"class","btn btn-primary"),s(S,"class","form-control mt-6"),s(c,"class","card-body"),s(m,"class","card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100"),s(a,"class","hero-content flex-col lg:flex-row-reverse"),s(t,"class","hero min-h-screen bg-base-200")},m(h,w){oe(h,t,w),e(t,a),e(a,o),e(o,i),e(i,_),e(a,N),e(a,m),e(m,c),d&&d.m(c,null),e(c,k),e(c,b),e(b,y),e(y,V),e(V,O),e(b,q),e(b,p),U(p,v[0]),e(c,J),e(c,g),e(g,x),e(x,D),e(D,M),e(g,W),e(g,f),U(f,v[1]),e(c,j),e(c,S),e(S,I),e(I,z),F||(Q=[G(p,"input",v[4]),G(f,"input",v[5]),G(I,"click",v[3])],F=!0)},p(h,[w]){h[2]?d||(d=ne(),d.c(),d.m(c,k)):d&&(d.d(1),d=null),w&1&&p.value!==h[0]&&U(p,h[0]),w&2&&f.value!==h[1]&&U(f,h[1])},i:le,o:le,d(h){h&&n(t),d&&d.d(),F=!1,ue(Q)}}}function fe(v,t,a){let o;he(()=>{K.authStore.isValid&&re("/app")});let i="",_="";const N=async()=>{await K.collection("users").authWithPassword(i,_).catch(()=>{console.log("handle error")}).then(()=>{K.authStore.isValid?re("/app"):a(2,o=!0)})};function m(){i=this.value,a(0,i)}function c(){_=this.value,a(1,_)}return a(2,o=!1),[i,_,o,N,m,c]}class be extends ie{constructor(t){super(),ce(this,t,fe,pe,de,{})}}export{be as default};
